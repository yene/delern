include: ./analysis_options.autogen.yaml

analyzer:
  errors:
    # 'flutter analyze' exits with 1 even on 'info':
    # https://github.com/flutter/flutter/issues/20855
    todo: ignore
    # Sometimes autogenerated file will have lints that are not yet present in
    # the linter packaged with our Flutter version. Ignore them.
    included_file_warning: ignore
  exclude:
    # These files are autogenerated and do not require analysis. Remember to
    # keep this list in sync with codecov.yml file.
    - "**/messages_*.dart"
    - "**/*.g.dart"
  # TODO(dotdoom): Disable strong mode for now. When app state management is
  #                changed, consider fixing issues.
  #strong-mode:
  # implicit-casts: false
  # implicit-dynamic: false
  # TODO(dotdoom): Enable this option once it becomes mature enough.
  # Right now:
  # - complains about android.hardware.touchscreen even though the default does
  #   not require it:
  #   https://developer.android.com/guide/topics/manifest/uses-feature-element#touchscreen-hw-features
  # - analyses Android manifests in "build" directory even when excluded via
  #   "exclude" option above.
  #optional-checks:
  #chrome-os-manifest-checks

# Rules are disabled by default unless listed explicitly.
linter:
  rules:
    # Disabled documentation linters.
    always_specify_types: false
    annotate_overrides: false
    public_member_api_docs: false
    type_annotate_public_apis: false

    # "Correcting" input parameters is too useful to let go of.
    parameter_assignments: false

    # Final variables are actually quite useful to avoid mistakes.
    unnecessary_final: false

    # Questionable effort-to-gain ratio.
    avoid_catches_without_on_clauses: false
    avoid_function_literals_in_foreach_calls: false
    prefer_double_quotes: false
    sort_constructors_first: false

    # TODO(dotdoom): add messages to asserts.
    prefer_asserts_with_message: false

    # TODO(ksheremet): Decide whether to use relative imports
    prefer_relative_imports: false

    # TODO(dotdoom): add debugFillProperties.
    diagnostic_describe_all_properties: false

    # TODO(dotdoom): support key parameter in widget constructors.
    use_key_in_widget_constructors: false
